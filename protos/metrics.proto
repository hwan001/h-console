syntax = "proto3";

package hconsole;

option java_multiple_files = true;
option java_package = "io.h001.hconsole.grpc";
option java_outer_classname = "MetricsProto";

message NodeInfo {
  string id = 1;
  string ip = 2;
  string hostname = 3;
  string role = 4;
  double cpuUsage = 5;
  double memoryUsage = 6;
  string status = 7;
  string uptime = 8;
}

message Metric {
  repeated NodeInfo nodes = 1;
  double timestamp = 2;
}

message Response {
  bool success = 1;
}

service MetricsService {
  rpc SendMetrics(Metric) returns (Response);
}

service MetricsStreamService {
  rpc SendMetrics (stream Metric) returns (Response);
}